global:
  environment:
    GLOBAL_VAR: true

runs:
  assignment-A:
    experiments:
      - experiment-1
    output:
      - type: graph
        file: A.pdf
      - type: tex-table
        file: A.tex

experiment-1:
  val_heuristic:
    - int_val_max
    - int_val_rnd
  var_heuristic:
    - int_var_max
    - int_var_rnd
  version:
    - 0
    - 1

  combine:
    options:
      - val_heuristic
      - var_heuristic
      - version
    with: cartesian-product

  # Override run options for experiments using random-based heuristics
  override-settings:
    - option: val_heuristic
      value: int_val_rnd
      settings:
        nrounds: 10
        collate-with: median

    - option: var_heuristic
      value: int_var_rnd
      settings:
        nrounds: 10
        collate-with: median

  # Default options
  nrounds: 1
  run-at-least: 1
  timeout-ms: 5000
  die-on-timeout: true
  collate-with: first
  start: 8
  stop: 10000
  step-size: 5

  command: "./sample.py"
  command-args:
    - "-propagation"
    - "{var_heuristic}"
  environment:
    USE_SOMETHING: "{val_heuristic}"
